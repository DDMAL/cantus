<html>
    <link rel="stylesheet" href="/meiEditor.css" />
    <link rel="stylesheet" href="/diva.js/build/css/diva.min.css" />
    <link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.css" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js" ></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
    <script src="/diva.js/build/js/diva.min.js" type="text/javascript"></script>
    <script src="https://x2js.googlecode.com/hg/xml2json.js"></script>
    <script src="/diva.js/build/js/plugins/highlight.js"></script>
    <script src="meiEditor.js"></script>
    <script src="/ace/src/ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="http://eligrey.com/demos/FileSaver.js/FileSaver.js"></script>
    <script>
    var dv;
    var editor;
    var meiEditor;

    $(function() 
    {
        $('#diva-wrapper').diva(
        {//create the diva wrapper
            contained: true,
            enableAutoHeight: true,
            fixedHeightGrid: false,
            iipServerURL: "http://132.206.14.136:8000/fcgi-bin/iipsrv.fcgi",
            objectData: "imagesOut.json",
            imageDir: "/opt/stgall",
            enableHighlight: true
        });
        dv = $('#diva-wrapper').data('diva');
        editor = ace.edit("editor"); //create the ACE editor
        editor.setTheme("ace/theme/ambiance");
        editor.getSession().setMode("ace/mode/xml");
        meiEditor = $("#mei-editor").AceMeiEditor(editor);
    });

    function loadPage(pageName)
    {
        meiEditor.changeActivePage(pageName);
    }

    function savePage(pageName)
    {
        meiEditor.savePageToClient(pageName);
    }

    </script>
    <div id="editor"></div>
    <div id="diva-wrapper"></div>
    <div class="clear"></div>
    <div id="mei-editor"></div>
    <span id="hover-div"></span>
</html> 