<!DOCTYPE html>
<html>
<head>
    <title>Cantus</title>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="/static/css/bootstrap.css">
    <link rel="stylesheet" href="/static/css/bootstrap-theme.css">
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="stylesheet" href="/static/css/diva.css">

    <script src="/static/js/jquery.js"></script>
    <script src="/static/js/bootstrap.js"></script>
    <script src="/static/js/diva.min.js"></script>
</head>
<body>
    <div class="cantus-container">
        <div class="header"></div>
        <hr/>
        <div class="row content">
            <!-- Templates -->
            <div id="view-goes-here">Empty</div>
        </div>
        <hr/>
        <div class="footer">
            <p>&copy; DDMAL 2014</p>
        </div>
    </div> <!-- /container -->

<!--Templates -->
<script type="text/template" id="header-template">
<ul id="top-menu" class="nav nav-pills pull-right">
</ul>
<h3 class="text-muted">Cantus Ultimus</h3>
</div>
</script>

<script type="text/template" id="concordance-collection-template">

</script>

<script type="text/template" id="top-menu-template">
<% _.forEach(items, function(item) { %>
    <li <% if (item.active) { %> class="active" <% } %>><a href="<%= item.url %>"><%= item.name %></a></li>
<% }); %>
</script>

<script type="text/template" id="index-template">
<div class="jumbotron">
    <h1>Hey, do you like chants?</h1>
    <p class="lead">If so, then we've got you covered!</p>
    <p><a class="btn btn-lg btn-success" href="/manuscripts/" role="button">Check out the manuscripts</a></p>
</div>
</script>

<script type="text/template" id="folios-template">
<h2>Folios</h2>
<% _.forEach(folios, function(folio) { %>
    <p>Folio: <%= folio.number %></p>
<% }); %>
</script>

<script type="text/template" id="folio-template">
<h3>Folio <%= number %></h3>
<div id="chant-list"></div>
</script>

<script type="text/template" id="chant-collection-template">

<div class="panel-group" id="accordion">
<% _.forEach(chants, function(chant, index) { %>
    <div id="chant-<%= index %>"class="panel panel-default">
        <div class="panel-heading">
            <h4 class="panel-title">
                <a data-toggle="collapse" data-parent="#accordion" href="#collapse-<%= index %>">
                <%= chant.incipit %>
                </a>
            </h4>
        </div>
        <div id="collapse-<%= index %>" class="panel-collapse collapse">
            <div class="panel-body">
            <p><b>Marginalia:</b> <%= chant.marginalia %></p>
            <p><b>Sequence: </b> <%= chant.sequence %></p>
            <p><b>Feast: </b> <%= chant.feast %></p>
            <p><b>Office: </b> <%= chant.office %></p>
            <p><b>Genre: </b> <%= chant.genre %></p>
            <p><b>Lit Position: </b> <%= chant.lit_position %></p>
            <p><b>Mode: </b> <%= chant.mode %></p>
            <p><b>Differentia: </b> <%= chant.differentia %></p>
            <p><b>Finalis: </b> <%= chant.finalis %></p>
            <p><b>Volpiano: </b> <%= chant.volpiano %></p>
            <hr/>
            <h5>Full Text</h5>
            <%= chant.full_text %>
            <hr/>
            <h5>Concordances</h5>
            <ul>
            <% _.each(chant.concordances, function(concordance) { %>
                <li><%= concordance %></li>
            <% }); %>
            </ul>
            </div>
        </div>
    </div>
<% }); %>
</div>
</script>

<script type="text/template" id="search-page-template">
<ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/search/">Search</a></li>
</ol>
<h1>Search</h1>
<div id="search"></div>
</script>

<script type="text/template" id="search-template">
{#<form role="search">#}
  <div class="form-group">
    <input type="text" id="search-input" class="form-control" placeholder="Search" value="<%= query %>">
  </div>
  <button type="submit" id="search-button" class="btn btn-default">Submit</button>
{#</form>#}
<div id="search-result"></div>
</script>

<script type="text/template" id="search-result-template">
<h3>Results</h3>
<ul>
<% _.forEach(results, function(item) { %>
{#    <% if (item.type == "cantusdata_manuscript") { %>#}
    <li><p><a href="<%= item.url %>" ><%= item.name %></a></p></li>
{#    <% } %>#}
<% }); %>
</ul>
</script>

<script type="text/template" id="manuscripts-page-template">
<ol class="breadcrumb">
  <li><a href="/">Home</a></li>
  <li><a href="/manuscripts/">Manuscripts</a></li>
</ol>
<h1>Manuscripts</h1>
<div class="manuscript-list"></div>
</script>

<script type="text/template" id="manuscript-collection-template">
<% _.forEach(manuscripts, function(aManuscript) { %>
    <p><a href="<%= aManuscript.url %>" ><%= aManuscript.name %></a></p>
<% }); %>
</script>

<script type="text/template" id="manuscript-template">
<ol class="breadcrumb">
  <li><a href="/">Home</a></li>
  <li><a href="/manuscripts/">Manuscripts</a></li>
  <li><a href="<%= manuscript.url %>"><%= manuscript.name %></a></li>
</ol>
<h1><%= manuscript.name %></h1>
<div class="row">
    <div class="col-md-9">
        <div id="diva-wrapper"></div>
    </div>
    <div class="col-md-3">
        <div id="folio"></div>
    </div>
</div>
<hr/>
<h3>Manuscript Details</h3>
<h4>Siglum</h4>
<p><%= manuscript.siglum %></p>
<h4>Date</h4>
<p><%= manuscript.date %></p>
<h4>Provenance</h4>
<p><%= manuscript.provenance %></p>
<h4>Description</h4>
<p><%= manuscript.description %></p>
</script>

    <!--Load scripts last-->
    <script src="http://ajax.cdnjs.com/ajax/libs/json2/20110223/json2.js"></script>
    <script src="/static/js/underscore.js"></script>
    <script src="/static/js/backbone.js"></script>
    <script src="/static/js/cantus.js"></script>

</body>
</html>
