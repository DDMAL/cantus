!function(t,e){"use strict";if("function"==typeof define&&define.amd)define([],function(){return e({},t)});else if("undefined"!=typeof exports)e(exports,t);else var r=function(){return t.LinkWatcher=n,o},n=t.LinkWatcher,o=t.LinkWatcher=e({noConflict:r},t)}(function(){return this}(),function(t,e){"use strict";function r(e,r,o){o=o||{};var a=o.rootHref||t._location.href,i=n(a,r);return e.jquery?e.on("click",i):e.addEventListener("click",i,!1),i}function n(t,e){var r=f(t);return function(t){var n=o(t,r);n&&e(t,n)}}function o(t,e){var r=h(t.target,t.currentTarget);if(!r||"string"!=typeof r.getAttribute("href"))return null;var n,o,s=f(r.href),l=r.getAttribute("target"),p=i(t),v=s.pathname,g=e.pathname,d=s.protocol===e.protocol&&s.host.toLowerCase()===e.host.toLowerCase()&&g===v.substr(0,g.length)&&(v.length===g.length||"/"===v.charAt(g.length)||"/"===g.charAt(g.length-1));d?(o=p&&!l,n=c(g,v)):(o=!1,n=null);var m;return m=!p||l&&"_self"!==l?!1:a(r),u(s,{anchor:r,isRelative:d,relativePath:n,isLocalNavigation:o,isFragmentNavigation:m}),s}function a(e){if(-1===e.getAttribute("href").indexOf("#"))return!1;var r=t._location;return r.protocol===e.protocol&&r.host===e.host&&r.pathname===e.pathname&&r.search===e.search}function i(t){var e=t.isDefaultPrevented?t.isDefaultPrevented():t.defaultPrevented;return!(e||t.ctrlKey||t.metaKey||2===t.which)}function c(t,e){var r=e.substring(t.length);return"/"===r.charAt(0)&&("/"===t.charAt(t.length-1)?r="/"+r:"/"!==r.charAt(1)&&(r=r.substring(1)),"/"===r.charAt(0)&&(r="."+r)),r}function h(t,e){for(;t&&t!==e;){if("A"===t.nodeName.toUpperCase())return t;t=t.parentElement}return null}function u(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])}function f(t){var e=t;return s&&(l.setAttribute("href",e),e=l.href),l.setAttribute("href",e),{href:l.href,protocol:l.protocol?l.protocol.replace(/:$/,""):"",host:l.host,search:l.search?l.search.replace(/^\?/,""):"",hash:l.hash?l.hash.replace(/^#/,""):"",hostname:l.hostname,port:l.port,pathname:"/"===l.pathname.charAt(0)?l.pathname:"/"+l.pathname}}t.onLinkClicked=r,t.getNavigationInfo=o,t.urlResolve=f,t._location=e.location;var s=document.documentMode,l=document.createElement("a");return t});
//# sourceMappingURL=dist/link-watcher.min.js.map