!function(t,e){"use strict";if("function"==typeof define&&define.amd)define([],function(){return e({},t)});else if("undefined"!=typeof exports)e(exports,t);else var r=function(){return t.LinkWatcher=n,a},n=t.LinkWatcher,a=t.LinkWatcher=e({noConflict:r},t)}(function(){return this}(),function(t,e){"use strict";function r(e,r,a){a=a||{};var o=a.rootHref||t._location.href,h=n(o,r);return e.jquery?e.on("click",h):e.addEventListener("click",h,!1),h}function n(t,e){var r=u(t);return function(t){var n=a(t,r);n&&e(t,n)}}function a(t,e){var r=i(t.target,t.currentTarget);if(!r||"string"!=typeof r.getAttribute("href"))return null;var n,a,l=u(r.href),f=r.getAttribute("target"),p=h(t),m=l.pathname,v=e.pathname,g=l.protocol===e.protocol&&l.host.toLowerCase()===e.host.toLowerCase()&&v===m.substr(0,v.length)&&(m.length===v.length||"/"===m.charAt(v.length)||"/"===v.charAt(v.length-1));g?(a=p&&!f,n=c(v,l.urlUtils)):(a=!1,n=null);var d;return d=!p||f&&"_self"!==f?!1:o(l.urlUtils),s(l,{anchor:r,isRelative:g,relativePath:n,isLocalNavigation:a,isFragmentNavigation:d}),l}function o(e){if(!e.hash)return!1;var r=t._location;return r.protocol===e.protocol&&r.host===e.host&&r.pathname===e.pathname&&r.search===e.search}function h(t){var e=t.isDefaultPrevented?t.isDefaultPrevented():t.defaultPrevented;return!(e||t.ctrlKey||t.metaKey||2===t.which)}function c(t,e){var r=e.pathname,n=r.substring(t.length);return"/"===n.charAt(0)&&("/"===t.charAt(t.length-1)?n="/"+n:"/"!==n.charAt(1)&&(n=n.substring(1)),"/"===n.charAt(0)&&(n="."+n)),n+e.search+e.hash}function i(t,e){for(;t&&t!==e;){if("A"===t.nodeName.toUpperCase())return t;t=t.parentElement}return null}function s(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])}function u(t){var e=t;return l&&(f.setAttribute("href",e),e=f.href),f.setAttribute("href",e),{urlUtils:{href:f.href,protocol:f.protocol,host:f.host,search:f.search,hash:f.getAttribute("href").indexOf("#")>=0&&"#"!==f.hash.charAt(0)?"#"+f.hash:f.hash,hostname:f.hostname,port:f.port,pathname:f.pathname},href:f.href,protocol:f.protocol?f.protocol.replace(/:$/,""):"",host:f.host,search:f.search?f.search.replace(/^\?/,""):"",hash:f.hash?f.hash.replace(/^#/,""):"",hostname:f.hostname,port:f.port,pathname:"/"===f.pathname.charAt(0)?f.pathname:"/"+f.pathname}}t.onLinkClicked=r,t.getNavigationInfo=a,t.urlResolve=u,t._location=e.location;var l=document.documentMode,f=document.createElement("a");return t});
//# sourceMappingURL=dist/link-watcher.min.js.map